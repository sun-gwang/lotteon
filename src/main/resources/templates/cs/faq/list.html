<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/csLayout}">
<head>
    <style>
        button.more {
            display: block;
            width: 100%;
            height: 100%;
            padding: 16px;
            font-size: 16px;
            border-radius: 0 0 5px 5px;
            box-sizing: border-box;
            background-color: transparent;
            border: 0px solid #eee;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button.more:hover {
            background-color: #f7f7f7;
        }
        button.more:active {
            background-color: #e0e0e0;
        }
    </style>

    <script>
        function toggleButtonText(element) {
            var text = element.innerText;
            if (text === 'ë”ë³´ê¸° ğŸ”½') {
                element.innerText = 'ê°„ë‹¨íˆ ë³´ê¸° ğŸ”¼';
            } else {
                element.innerText = 'ë”ë³´ê¸° ğŸ”½';
            }
        }
    </script>
    <script th:inline="javascript">
        function showAlert() {
            // ì•Œë¦¼ì°½ ë„ìš°ê¸°
            alert('ë¡œê·¸ì¸ í›„ì— ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = '/lotteon/member/login'; // ë¡œê·¸ì¸ í˜ì´ì§€ URLë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.
        }
    </script>
</head>

<section id="cs" layout:fragment = "content">
    <div class="faq">
        <nav>
            <div>
                <p>í™ˆ
                    <span>></span>
                    <span th:switch="${group}">
                      <span th:case="notice" style="font-size: 16px; color: black;">ê³µì§€ì‚¬í•­</span>
                      <span th:case="qna" style="font-size: 16px; color: black;">ê³ ê°ë¬¸ì˜</span>
                      <span th:case="faq" style="font-size: 16px; color: black;">ìì£¼ë¬»ëŠ”ì§ˆë¬¸</span>
                      </span>
                </p>
            </div>
        </nav>
        <section class="list">
            <aside>
                <h2>ìì£¼ë¬»ëŠ” ì§ˆë¬¸</h2>
                <ul>
                    <li th:class="${(cate eq 'member') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='member')}">íšŒì›</a></li>
                    <li th:class="${(cate=='coupon') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='coupon')}">ì¿ í°/ì´ë²¤íŠ¸</a></li>
                    <li th:class="${(cate=='order') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='order')}">ì£¼ë¬¸/ê²°ì œ</a></li>
                    <li th:class="${(cate=='delivery') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='delivery')}">ë°°ì†¡</a></li>
                    <li th:class="${(cate=='refund') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='refund')}">ì·¨ì†Œ/ë°˜í’ˆ/êµí™˜</a></li>
                    <li th:class="${(cate=='travel') ? 'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='travel')}">ì—¬í–‰/ìˆ™ë°•/í•­ê³µ</a></li>
                    <li th:class="${(cate=='safe') ?'on' : ''}"><a th:href="@{/cs/faq/list(group='faq',cate='safe')}">ì•ˆì „ê±°ë˜</a></li>
                </ul>
            </aside>
            <article>
                <nav>
                 <span th:switch="${cate}">
                    <span th:case="member">íšŒì›</span>
                    <span th:case="coupon">ì¿ í°/ì´ë²¤íŠ¸</span>
                    <span th:case="order">ì£¼ë¬¸/ê²°ì œ</span>
                    <span th:case="delivery">ë°°ì†¡</span>
                    <span th:case="refund">ì·¨ì†Œ/ë°˜í’ˆ/êµí™˜</span>
                    <span th:case="travel">ì—¬í–‰/ìˆ™ë°•/í•­ê³µ</span>
                    <span th:case="safe">ì•ˆì „ê±°ë˜</span>
                 </span>
                    <h2>ê°€ì¥ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì…ë‹ˆë‹¤.</h2>
                </nav>

                <div th:each="type : ${types}">
                    <br>
                    <h3 th:text="${type.typeName}"></h3>
                    <ul>
                        <th:block th:each="dto, index : ${type.boards}" th:if="${dto.typeNo == type.typeNo}">
                            <li th:class="${index.index lt 3 ? dto.typeNo : 'collapse' + type.typeNo}" th:if="${index.index lt 3}">
                                <a th:if="${#authorization.expression('isAuthenticated()')}" th:href="@{/cs/faq/view(group=${dto.group}, cate=${dto.cate},bno=${dto.bno})}">
                                    <span>Q.</span>[[${dto.title}]]
                                </a>
                                <a th:unless="${#authorization.expression('isAuthenticated()')}" onclick="showAlert()">
                                    <span>Q.</span>[[${dto.title}]]
                                </a>
                            </li>
                        </th:block>
                        <div class="collapse" th:id="'collapseExample_' + ${type.typeNo}">
                            <th:block th:each="dto, index : ${type.boards}" th:if="${dto.typeNo == type.typeNo && index.index ge 3 && index.index lt 10}">
                                <li th:class="${index.index ge 3 ? dto.typeNo : '' }">
                                    <a th:if="${#authorization.expression('isAuthenticated()')}" th:href="@{/cs/faq/view(group=${dto.group}, cate=${dto.cate},bno=${dto.bno})}" style="border-bottom: 1px solid #ccc; border-radius: 0;">
                                        <span>Q.</span>[[${dto.title}]]
                                    </a>
                                    <a th:unless="${#authorization.expression('isAuthenticated()')}" onclick="showAlert()" style="border-bottom: 1px solid #ccc; border-radius: 0;">
                                        <span>Q.</span>[[${dto.title}]]
                                    </a>
                                </li>
                            </th:block>
                        </div>
                        <li th:if="${type.boards.size() > 3}" class="more">
                            <button type="button" class="more" data-bs-toggle="collapse" th:data-bs-target="'#collapseExample_' + ${type.typeNo}" onclick="toggleButtonText(this);">ë”ë³´ê¸° ğŸ”½</button>
                        </li>
                    </ul>
                </div>


            </article>
        </section>
    </div>
</section>
